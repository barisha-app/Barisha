<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haber Detayı | BARİSHOP</title>
    
    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,700;1,200&family=Unbounded:wght@400;700&display=swap" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
      :root {
        --primary-color: #6a11cb;
        --secondary-color: #2575fc;
        --accent-color: #ff416c;
        --dark-color: #121212;
        --light-color: #f8f9fa;
      }
      
      body {
        font-family: 'Poppins', sans-serif;
        overflow-x: hidden;
        background-color: var(--dark-color);
        color: white;
        padding-top: 80px;
        min-height: 100vh;
      }
      
      /* Page Transition */
      .page-transition {
        position: fixed;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        z-index: 9999;
        transition: left 0.6s ease-in-out;
      }
      
      .page-transition.active {
        left: 0;
      }
      
      /* Header Styles */
      .site-header {
        background: rgba(18, 18, 18, 0.95);
        backdrop-filter: blur(10px);
        padding: 15px 0;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
        transition: all 0.3s ease;
        height: 80px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
      }
      
      .site-header.scrolled {
        background: rgba(18, 18, 18, 0.95);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
      }
      
      .site-header-text {
        text-decoration: none;
        font-family: 'Unbounded', cursive;
        font-weight: 700;
        font-size: 1.8rem;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        transition: all 0.3s ease;
      }
      
      .site-header-text:hover {
        transform: scale(1.05);
      }
      
      .site-header-text i {
        font-size: 2rem;
        margin-right: 10px;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      
      .custom-btn {
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        border: none;
        border-radius: 50px;
        padding: 10px 25px;
        color: white;
        font-weight: 600;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        z-index: 1;
      }
      
      .custom-btn:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 0%;
        height: 100%;
        background: linear-gradient(45deg, var(--accent-color), var(--primary-color));
        transition: all 0.5s ease;
        z-index: -1;
        border-radius: 50px;
      }
      
      .custom-btn:hover:before {
        width: 100%;
      }
      
      .custom-btn:hover {
        box-shadow: 0 5px 15px rgba(106, 17, 203, 0.4);
        transform: translateY(-3px);
      }

      /* News Detail Styles */
      .news-detail-page {
        padding: 80px 0;
      }
      
      .back-button {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white;
        padding: 10px 20px;
        border-radius: 25px;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        margin-bottom: 30px;
      }
      
      .back-button:hover {
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        border-color: transparent;
        transform: translateX(-5px);
      }
      
      .article-header {
        margin-bottom: 40px;
      }
      
      .article-category {
        display: inline-block;
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        color: white;
        padding: 8px 20px;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 20px;
      }
      
      .article-title {
        font-family: 'Unbounded', cursive;
        font-size: 2.5rem;
        margin-bottom: 20px;
        line-height: 1.3;
      }
      
      .article-meta {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 30px;
        color: rgba(255, 255, 255, 0.7);
      }
      
      .article-date, .article-source, .article-views {
        display: flex;
        align-items: center;
        gap: 5px;
      }
      
      .article-image {
        width: 100%;
        height: 500px;
        object-fit: cover;
        border-radius: 15px;
        margin-bottom: 30px;
      }
      
      .article-content {
        max-width: 800px;
        margin: 0 auto;
      }
      
      .article-body {
        font-size: 1.1rem;
        line-height: 1.8;
        color: rgba(255, 255, 255, 0.9);
      }
      
      .article-body p {
        margin-bottom: 25px;
      }
      
      .article-body h2, .article-body h3 {
        font-family: 'Unbounded', cursive;
        margin: 40px 0 20px;
        color: white;
      }
      
      .article-body h2 {
        font-size: 1.8rem;
      }
      
      .article-body h3 {
        font-size: 1.5rem;
      }
      
      .article-body blockquote {
        border-left: 4px solid var(--primary-color);
        padding-left: 20px;
        margin: 30px 0;
        font-style: italic;
        color: rgba(255, 255, 255, 0.7);
      }
      
      .article-body ul, .article-body ol {
        margin: 20px 0;
        padding-left: 30px;
      }
      
      .article-body li {
        margin-bottom: 10px;
      }
      
      .article-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 40px 0;
      }
      
      .tag {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.8);
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
        transition: all 0.3s ease;
      }
      
      .tag:hover {
        background: var(--primary-color);
        color: white;
        cursor: pointer;
      }
      
      .article-actions {
        display: flex;
        gap: 15px;
        margin: 40px 0;
      }
      
      .action-btn {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: white;
        padding: 10px 20px;
        border-radius: 25px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        cursor: pointer;
      }
      
      .action-btn:hover {
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        border-color: transparent;
        transform: translateY(-3px);
      }
      
      .related-news {
        margin-top: 80px;
        padding-top: 50px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .section-title {
        text-align: center;
        margin-bottom: 50px;
      }
      
      .section-title h2 {
        font-family: 'Unbounded', cursive;
        font-size: 2.2rem;
        margin-bottom: 15px;
        background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      
      .section-title p {
        color: rgba(255, 255, 255, 0.7);
        font-size: 1.1rem;
      }
      
      .news-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
      }
      
      .news-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        cursor: pointer;
      }
      
      .news-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        border-color: var(--primary-color);
      }
      
      .news-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }
      
      .news-content {
        padding: 25px;
      }
      
      .news-category {
        display: inline-block;
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        color: white;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-bottom: 15px;
      }
      
      .news-title {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 15px;
        line-height: 1.4;
      }
      
      .news-excerpt {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 20px;
        line-height: 1.6;
      }
      
      .news-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.5);
      }
      
      .news-date {
        display: flex;
        align-items: center;
        gap: 5px;
      }
      
      .news-source {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      /* Footer */
      footer {
        background: rgba(18, 18, 18, 0.95);
        color: white;
        padding: 60px 0 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .footer-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
        margin-bottom: 40px;
      }
      
      .footer-column h3 {
        font-size: 1.3rem;
        margin-bottom: 25px;
        position: relative;
        padding-bottom: 15px;
        font-family: 'Unbounded', cursive;
      }
      
      .footer-column h3::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 50px;
        height: 3px;
        background: linear-gradient(45deg, var(--accent-color), var(--primary-color));
      }
      
      .footer-column ul {
        list-style: none;
        padding: 0;
      }
      
      .footer-column ul li {
        margin-bottom: 12px;
      }
      
      .footer-column ul li a {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        transition: all 0.3s ease;
      }
      
      .footer-column ul li a:hover {
        color: var(--accent-color);
        padding-left: 5px;
      }
      
      .contact-info li {
        cursor: pointer;
        transition: all 0.3s ease;
      }
      
      .contact-info li:hover {
        color: var(--accent-color);
        padding-left: 5px;
      }
      
      .copyright {
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
      }

      /* Particle Effects */
      #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: -1;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .article-title {
          font-size: 2rem;
        }
        
        .article-image {
          height: 300px;
        }
        
        .article-meta {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }
        
        .article-actions {
          flex-direction: column;
        }
        
        .news-grid {
          grid-template-columns: 1fr;
        }
        
        .article-body {
          font-size: 1rem;
        }
      }
      
      @media (max-width: 576px) {
        .article-title {
          font-size: 1.7rem;
        }
        
        .article-image {
          height: 250px;
        }
      }
    </style>
</head>
<body>
    <!-- Page Transition -->
    <div class="page-transition" id="pageTransition"></div>

    <!-- Particles Background -->
    <div id="particles-js"></div>

    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 d-flex align-items-center justify-content-between">
                    <a class="site-header-text d-flex align-items-center" href="index.html">
                        <i class="bi-cpu"></i>
                        <span>BARİSHOP</span>
                    </a>
                    
                    <div class="d-flex gap-3 align-items-center">
                        <a href="index.html" class="custom-btn btn">
                            <i class="bi-house me-2"></i>Ana Sayfa
                        </a>
                        <a href="news.html" class="custom-btn btn">
                            <i class="bi-newspaper me-2"></i>Tüm Haberler
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- News Detail Content -->
    <section class="news-detail-page">
        <div class="container">
            <!-- Geri Butonu -->
            <a href="news.html" class="back-button">
                <i class="bi-arrow-left"></i>
                Haberlere Dön
            </a>
            
            <!-- Haber İçeriği -->
            <div class="article-content">
                <!-- Haber Başlık -->
                <div class="article-header">
                    <span class="article-category" id="articleCategory">Yükleniyor...</span>
                    <h1 class="article-title" id="articleTitle">Haber yükleniyor...</h1>
                    
                    <div class="article-meta">
                        <span class="article-date" id="articleDate">
                            <i class="bi-calendar"></i>
                            <span id="articleDateText">Yükleniyor...</span>
                        </span>
                        <span class="article-source" id="articleSource">
                            <i class="bi-newspaper"></i>
                            <span id="articleSourceText">Yükleniyor...</span>
                        </span>
                        <span class="article-views">
                            <i class="bi-eye"></i>
                            <span id="articleViews">0</span> görüntüleme
                        </span>
                    </div>
                </div>
                
                <!-- Haber Görseli -->
                <img id="articleImage" src="" alt="Haber Görseli" class="article-image">
                
                <!-- Haber İçerik -->
                <div class="article-body" id="articleBody">
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Haber yükleniyor...</span>
                        </div>
                        <p class="mt-3">Haber içeriği yükleniyor...</p>
                    </div>
                </div>
                
                <!-- Etiketler -->
                <div class="article-tags" id="articleTags">
                    <!-- Etiketler buraya dinamik olarak eklenecek -->
                </div>
                
                <!-- Sosyal Paylaşım -->
                <div class="article-actions">
                    <button class="action-btn" onclick="shareOnFacebook()">
                        <i class="bi-facebook"></i>
                        Paylaş
                    </button>
                    <button class="action-btn" onclick="shareOnTwitter()">
                        <i class="bi-twitter"></i>
                        Tweetle
                    </button>
                    <button class="action-btn" onclick="shareOnLinkedIn()">
                        <i class="bi-linkedin"></i>
                        Paylaş
                    </button>
                    <button class="action-btn" onclick="copyLink()">
                        <i class="bi-link-45deg"></i>
                        Linki Kopyala
                    </button>
                </div>
            </div>
            
            <!-- İlgili Haberler -->
            <div class="related-news">
                <div class="section-title">
                    <h2>📰 İlgili Haberler</h2>
                    <p>Benzer içerikler</p>
                </div>
                
                <div class="news-grid" id="relatedNews">
                    <!-- İlgili haberler buraya dinamik olarak eklenecek -->
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Haberler yükleniyor...</span>
                        </div>
                        <p class="mt-3">İlgili haberler yükleniyor...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>BARİSHOP</h3>
                    <p>Teknoloji alışverişinde güvenilir adres. En yeni ürünler, en uygun fiyatlarla.</p>
                </div>
                <div class="footer-column">
                    <h3>Hızlı Bağlantılar</h3>
                    <ul>
                        <li><a href="index.html" class="page-link">Ana Sayfa</a></li>
                        <li><a href="urunler.html" class="page-link">BARISHOP</a></li>
                        <li><a href="news.html" class="page-link">HABERLER</a></li>
                        <li><a href="dosyalar.html" class="page-link">DOSYALAR</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Müşteri Hizmetleri</h3>
                    <ul>
                        <li><a href="mh/sss.html" class="page-link">Sıkça Sorulan Sorular</a></li>
                        <li><a href="mh/iade-degisim.html" class="page-link">İade ve Değişim</a></li>
                        <li><a href="mh/kargo-takip.html" class="page-link">Kargo Takibi</a></li>
                        <li><a href="mh/iletisim.html" class="page-link">İletişim</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>İletişim</h3>
                    <ul class="contact-info">
                        <li onclick="window.location.href='tel:08501110850'"><i class="bi-telephone me-2"></i> 0850 111 08 50</li>
                        <li onclick="window.location.href='mailto:barisha@yaani.com'"><i class="bi-envelope me-2"></i> barisha@yaani.com</li>
                        <li onclick="window.open('https://wa.me/905303042950', '_blank')"><i class="bi-whatsapp me-2"></i> 0530 304 29 50</li>
                        <li onclick="window.open('https://maps.google.com/?q=İstanbul,Türkiye', '_blank')"><i class="bi-geo-alt me-2"></i> İstanbul, Türkiye</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 BariShop. Tüm hakları saklıdır. | Site yapım aşamasındadır</p>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
        // Particles.js initialization
        document.addEventListener('DOMContentLoaded', function() {
            particlesJS('particles-js', {
                "particles": {
                    "number": { "value": 80, "density": { "enable": true, "value_area": 800 }},
                    "color": { "value": "#ffffff" },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 0.5 },
                    "size": { "value": 3, "random": true },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out"
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": { "enable": true, "mode": "grab" },
                        "onclick": { "enable": true, "mode": "push" },
                        "resize": true
                    }
                }
            });
            
            // Haber detayını yükle
            loadNewsDetail();
        });

        // URL parametrelerini al
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                id: params.get('id')
            };
        }

        // Haber detayını yükle
        async function loadNewsDetail() {
            const params = getUrlParams();
            const newsId = params.id ? parseInt(params.id) : null;
            
            try {
                // localStorage'dan haberi al
                const savedNews = localStorage.getItem('currentNews');
                const savedNewsId = localStorage.getItem('currentNewsId');
                
                if (savedNews && savedNewsId) {
                    const newsItem = JSON.parse(savedNews);
                    console.log('✅ Haber detayı yüklendi:', newsItem.title);
                    
                    // Haber detayını göster
                    displayNewsDetail(newsItem);
                    
                    // İlgili haberleri yükle
                    loadRelatedNews(newsItem.category, newsItem.id);
                    
                    // Görüntüleme sayısını artır
                    incrementViewCount(newsItem.id);
                } else {
                    // Eğer localStorage'da yoksa, API'den çek
                    await loadNewsFromAPI(newsId);
                }
                
            } catch (error) {
                console.error('Haber detayı yüklenirken hata oluştu:', error);
                showError('Haber yüklenirken bir hata oluştu.');
            }
        }

        // API'den haber yükle
        async function loadNewsFromAPI(newsId) {
            try {
                const API_KEY = '0904885e71744879b8691238fa897ebb';
                const response = await fetch(`https://newsapi.org/v2/top-headlines?country=tr&pageSize=20&apiKey=${API_KEY}`);
                
                if (!response.ok) {
                    throw new Error('API bağlantı hatası');
                }
                
                const apiData = await response.json();
                
                if (!apiData.articles || apiData.articles.length === 0) {
                    throw new Error('Haber bulunamadı');
                }
                
                // İlk haberi göster
                const firstArticle = apiData.articles[0];
                const formattedArticle = {
                    id: 1,
                    title: firstArticle.title,
                    category: 'Türkiye',
                    date: new Date(firstArticle.publishedAt).toLocaleDateString('tr-TR'),
                    source: firstArticle.source?.name,
                    image: firstArticle.urlToImage,
                    content: firstArticle.content || firstArticle.description,
                    excerpt: firstArticle.description
                };
                
                displayNewsDetail(formattedArticle);
                loadFallbackRelatedNews();
                
            } catch (error) {
                console.error('API hatası:', error);
                showError('Haber şu anda yüklenemiyor.');
            }
        }

        // Haber detayını göster
        function displayNewsDetail(newsItem) {
            // Sayfa başlığını güncelle
            document.title = `${newsItem.title} | BARİSHOP`;
            
            // Haber bilgilerini güncelle
            document.getElementById('articleCategory').textContent = newsItem.category || 'Türkiye';
            document.getElementById('articleTitle').textContent = newsItem.title;
            document.getElementById('articleDateText').textContent = newsItem.date || 'Yakın zamanda';
            document.getElementById('articleSourceText').textContent = newsItem.source || 'Haber Kaynağı';
            
            // Görseli ayarla
            const articleImage = document.getElementById('articleImage');
            if (newsItem.image && newsItem.image !== 'null') {
                articleImage.src = newsItem.image;
            } else {
                articleImage.src = 'https://images.unsplash.com/photo-1586953208448-b95a79798f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80';
            }
            
            // Haber içeriğini oluştur
            const articleBody = document.getElementById('articleBody');
            articleBody.innerHTML = generateArticleContent(newsItem);
            
            // Etiketleri oluştur
            const articleTags = document.getElementById('articleTags');
            articleTags.innerHTML = generateTags(newsItem);
            
            // Görüntüleme sayısını göster
            updateViewCount(newsItem.id);
        }

        // Haber içeriği oluştur
        function generateArticleContent(newsItem) {
            if (newsItem.content && newsItem.content !== 'null') {
                // İçerik varsa onu kullan
                return `
                    <p><strong>${newsItem.excerpt || ''}</strong></p>
                    <p>${newsItem.content}</p>
                    
                    <h2>Detaylı Bilgiler</h2>
                    <p>Bu haber Türkiye'den güncel bir gelişmeyi içermektedir. Haberin detayları aşağıda yer almaktadır.</p>
                    
                    <blockquote>
                        "Türkiye'den güncel haberler ve gelişmeler BARİSHOP'ta!"
                    </blockquote>
                    
                    <h3>Önemli Noktalar</h3>
                    <ul>
                        <li>Güncel ve doğrulanmış bilgiler</li>
                        <li>Türkiye odaklı içerik</li>
                        <li>Anlık güncellemeler</li>
                        <li>Güvenilir kaynaklar</li>
                    </ul>
                `;
            } else {
                // İçerik yoksa örnek içerik oluştur
                return `
                    <p><strong>${newsItem.excerpt || 'Türkiye\'den güncel bir haber'}</strong></p>
                    
                    <p>Bu haber, Türkiye'de yaşanan önemli bir gelişmeyi konu alıyor. Detaylar aşağıda yer almaktadır.</p>
                    
                    <h2>Haber Detayları</h2>
                    
                    <p>Türkiye'de son dönemde yaşanan bu gelişme, birçok kesimi ilgilendiriyor. Uzmanlar konu hakkında değerlendirmelerde bulunuyor.</p>
                    
                    <blockquote>
                        "Türkiye'nin geleceği için önemli bir adım. Bu gelişme, ülkemizin ilerlemesine katkı sağlayacak."
                    </blockquote>
                    
                    <h3>Etkileri ve Sonuçları</h3>
                    
                    <p>Bu gelişmenin Türkiye üzerindeki olası etkileri şunlar olabilir:</p>
                    
                    <ul>
                        <li>Ekonomik etkiler ve fırsatlar</li>
                        <li>Sosyal gelişmeler</li>
                        <li>Teknolojik ilerlemeler</li>
                        <li>Uluslararası ilişkiler</li>
                    </ul>
                    
                    <p>Konuyla ilgili daha fazla detay için haber kaynağını takip etmeye devam edin.</p>
                `;
            }
        }

        // Etiketler oluştur
        function generateTags(newsItem) {
            const baseTags = ['türkiye', 'haber', 'güncel'];
            const categoryTag = newsItem.category ? newsItem.category.toLowerCase() : 'genel';
            const tags = [...baseTags, categoryTag];
            
            return tags.map(tag => 
                `<span class="tag">#${tag}</span>`
            ).join('');
        }

        // İlgili haberleri yükle
        async function loadRelatedNews(category, currentId) {
            try {
                const API_KEY = '0904885e71744879b8691238fa897ebb';
                const response = await fetch(`https://newsapi.org/v2/top-headlines?country=tr&pageSize=6&apiKey=${API_KEY}`);
                
                if (!response.ok) {
                    throw new Error('API bağlantı hatası');
                }
                
                const apiData = await response.json();
                
                if (apiData.articles && apiData.articles.length > 0) {
                    // İlk 3 haberi al (mevcut haber hariç)
                    const relatedArticles = apiData.articles.slice(0, 3).map((article, index) => ({
                        id: index + 100, // Farklı ID vermek için
                        title: article.title,
                        excerpt: article.description,
                        image: article.urlToImage,
                        category: 'Türkiye',
                        date: new Date(article.publishedAt).toLocaleDateString('tr-TR'),
                        source: article.source?.name
                    }));
                    
                    displayRelatedNews(relatedArticles);
                } else {
                    loadFallbackRelatedNews();
                }
                
            } catch (error) {
                console.error('İlgili haberler yüklenirken hata oluştu:', error);
                loadFallbackRelatedNews();
            }
        }

        // İlgili haberleri göster
        function displayRelatedNews(relatedNews) {
            const relatedNewsContainer = document.getElementById('relatedNews');
            
            if (relatedNews.length === 0) {
                relatedNewsContainer.innerHTML = '<div class="text-center py-5">Henüz ilgili haber bulunmamaktadır.</div>';
                return;
            }
            
            relatedNewsContainer.innerHTML = '';
            
            relatedNews.forEach(item => {
                const newsCard = document.createElement('div');
                newsCard.className = 'news-card';
                newsCard.setAttribute('data-id', item.id);
                
                newsCard.innerHTML = `
                    <img src="${item.image || 'https://images.unsplash.com/photo-1586953208448-b95a79798f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'}" alt="${item.title}" class="news-image">
                    <div class="news-content">
                        <span class="news-category">${item.category}</span>
                        <h3 class="news-title">${item.title}</h3>
                        <p class="news-excerpt">${item.excerpt || 'Haber açıklaması mevcut değil...'}</p>
                        <div class="news-meta">
                            <span class="news-date">
                                <i class="bi-calendar"></i>
                                ${item.date}
                            </span>
                            <span class="news-source">
                                <i class="bi-newspaper"></i>
                                ${item.source || 'Kaynak'}
                            </span>
                        </div>
                    </div>
                `;
                
                newsCard.addEventListener('click', function() {
                    // Yeni haberi localStorage'a kaydet
                    localStorage.setItem('currentNews', JSON.stringify(item));
                    localStorage.setItem('currentNewsId', item.id);
                    
                    const transition = document.getElementById('pageTransition');
                    transition.classList.add('active');
                    
                    setTimeout(() => {
                        window.location.href = `news-detail.html?id=${item.id}`;
                    }, 600);
                });
                
                relatedNewsContainer.appendChild(newsCard);
            });
        }

        // Fallback ilgili haberler
        function loadFallbackRelatedNews() {
            const fallbackRelatedNews = [
                {
                    id: 101,
                    title: "Türkiye'de Güncel Gelişmeler",
                    excerpt: "Türkiye'den son dakika haberleri ve önemli gelişmeler",
                    image: "https://images.unsplash.com/photo-1586953208448-b95a79798f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                    category: "Türkiye",
                    date: "Bugün",
                    source: "BARİSHOP Haber"
                },
                {
                    id: 102,
                    title: "Ekonomide Son Durum",
                    excerpt: "Türkiye ekonomisindeki güncel gelişmeler ve analizler",
                    image: "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                    category: "Ekonomi",
                    date: "Bugün",
                    source: "BARİSHOP Haber"
                },
                {
                    id: 103,
                    title: "Teknoloji Haberleri",
                    excerpt: "Türkiye'den teknoloji dünyasındaki son gelişmeler",
                    image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                    category: "Teknoloji",
                    date: "Bugün",
                    source: "BARİSHOP Haber"
                }
            ];
            
            displayRelatedNews(fallbackRelatedNews);
        }

        // Görüntüleme sayısını artır
        function incrementViewCount(newsId) {
            const viewKey = `news_${newsId}_views`;
            let views = parseInt(localStorage.getItem(viewKey) || '0');
            views++;
            localStorage.setItem(viewKey, views.toString());
            updateViewCount(newsId);
        }

        // Görüntüleme sayısını güncelle
        function updateViewCount(newsId) {
            const viewKey = `news_${newsId}_views`;
            const views = parseInt(localStorage.getItem(viewKey) || '0');
            document.getElementById('articleViews').textContent = views;
        }

        // Hata göster
        function showError(message) {
            const articleContent = document.querySelector('.article-content');
            articleContent.innerHTML = `
                <div class="text-center py-5">
                    <i class="bi-exclamation-triangle display-1 text-warning"></i>
                    <h2 class="mt-3">Haber Yüklenemedi</h2>
                    <p class="mb-4">${message}</p>
                    <a href="news.html" class="custom-btn btn">
                        <i class="bi-arrow-left me-2"></i>Haberler Sayfasına Dön
                    </a>
                </div>
            `;
        }

        // Sosyal medya paylaşım fonksiyonları
        function shareOnFacebook() {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent(document.getElementById('articleTitle').textContent);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${title}`, '_blank');
        }

        function shareOnTwitter() {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent(document.getElementById('articleTitle').textContent);
            window.open(`https://twitter.com/intent/tweet?text=${title}&url=${url}`, '_blank');
        }

        function shareOnLinkedIn() {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank');
        }

        function copyLink() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                // Başarılı mesajı göster
                const originalText = event.target.innerHTML;
                event.target.innerHTML = '<i class="bi-check"></i> Kopyalandı!';
                setTimeout(() => {
                    event.target.innerHTML = originalText;
                }, 2000);
            });
        }

        // Sayfa geçiş efekti
        function setupPageTransitions() {
            const links = document.querySelectorAll('.page-link');
            
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const href = this.getAttribute('href');
                    
                    const transition = document.getElementById('pageTransition');
                    transition.classList.add('active');
                    
                    setTimeout(() => {
                        window.location.href = href;
                    }, 600);
                });
            });
        }

        // Sayfa yüklendiğinde çalıştır
        document.addEventListener('DOMContentLoaded', function() {
            setupPageTransitions();
        });

        // Header scroll effect
        $(window).scroll(function() {
            if ($(window).scrollTop() > 50) {
                $('.site-header').addClass('scrolled');
            } else {
                $('.site-header').removeClass('scrolled');
            }
        });
    </script>
</body>
</html>
